import{S as g,i as A,s as I,e as y,b as u,F as S,h as f,Z as q,k as _,l as h,m as b,w as B,q as v,a as w,y as D,r as C,c as P,z as N,n as j,E,A as z,g as F,d as H,B as K,o as L}from"../chunks/index.ba8c4f3a.js";import{l as M,P as R}from"../chunks/public.56157045.js";import{r as T}from"../chunks/util.bb100f75.js";function V(r){let t;return{c(){t=_("div")},l(e){t=h(e,"DIV",{}),b(t).forEach(f)},m(e,i){u(e,t,i),r[4](t)},p:S,d(e){e&&f(t),r[4](null)}}}function U(r){let t,e=r[0]&&r[1]&&V(r);return{c(){e&&e.c(),t=y()},l(i){e&&e.l(i),t=y()},m(i,s){e&&e.m(i,s),u(i,t,s)},p(i,[s]){i[0]&&i[1]?e?e.p(i,s):(e=V(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:S,o:S,d(i){e&&e.d(i),i&&f(t)}}}function Y(r,t,e){let{stripe:i}=t,{clientSecret:s}=t,c,l;q(()=>{l==null||l.destroy()});function m(a){B[a?"unshift":"push"](()=>{c=a,e(2,c)})}return r.$$set=a=>{"stripe"in a&&e(0,i=a.stripe),"clientSecret"in a&&e(1,s=a.clientSecret)},r.$$.update=()=>{r.$$.dirty&1&&i&&T(i),r.$$.dirty&15&&i&&s&&c&&i.initEmbeddedCheckout({clientSecret:s}).then(a=>{e(3,l=a),l.mount(c)})},[i,s,c,l,m]}class Z extends g{constructor(t){super(),A(this,t,Y,U,I,{stripe:0,clientSecret:1})}}function x(r){let t,e,i,s,c,l,m,a,p;return a=new Z({props:{stripe:r[1],clientSecret:r[0].clientSecret}}),{c(){t=_("h1"),e=v("Embedded Checkout Example"),i=w(),s=_("nav"),c=_("a"),l=v("View code"),m=w(),D(a.$$.fragment),this.h()},l(n){t=h(n,"H1",{});var o=b(t);e=C(o,"Embedded Checkout Example"),o.forEach(f),i=P(n),s=h(n,"NAV",{});var d=b(s);c=h(d,"A",{href:!0});var k=b(c);l=C(k,"View code"),k.forEach(f),d.forEach(f),m=P(n),N(a.$$.fragment,n),this.h()},h(){j(c,"href","https://github.com/joshnuss/svelte-stripe/tree/main/src/routes/examples/embedded-checkout")},m(n,o){u(n,t,o),E(t,e),u(n,i,o),u(n,s,o),E(s,c),E(c,l),u(n,m,o),z(a,n,o),p=!0},p(n,[o]){const d={};o&2&&(d.stripe=n[1]),o&1&&(d.clientSecret=n[0].clientSecret),a.$set(d)},i(n){p||(F(a.$$.fragment,n),p=!0)},o(n){H(a.$$.fragment,n),p=!1},d(n){n&&f(t),n&&f(i),n&&f(s),n&&f(m),K(a,n)}}}function G(r,t,e){let{data:i}=t,s=null;return L(async()=>{e(1,s=await M(R))}),r.$$set=c=>{"data"in c&&e(0,i=c.data)},[i,s]}class W extends g{constructor(t){super(),A(this,t,G,x,I,{data:0})}}export{W as component};
